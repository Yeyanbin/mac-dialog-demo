var bo=Object.defineProperty,xo=Object.defineProperties;var Eo=Object.getOwnPropertyDescriptors;var We=Object.getOwnPropertySymbols;var Co=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable;var ze=(a,n,o)=>n in a?bo(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o,j=(a,n)=>{for(var o in n||(n={}))Co.call(n,o)&&ze(a,o,n[o]);if(We)for(var o of We(n))Fo.call(n,o)&&ze(a,o,n[o]);return a},Ae=(a,n)=>xo(a,Eo(n));import{r as F,p as te,a as ne,d as S,w as De,o as P,c as f,b as _,e as ue,f as Ge,n as Me,u as x,F as L,g as se,h as g,i as fe,t as le,j as Ye,k as $,l as W,m as M,q as ke,s as b,v as $e,x as ce,y as me,z as Ve,A as So,B as Ao,C as Do,R as Mo,D as ae,E as G,G as Ke,N as Ze,H as ko,L as $o,I as Oo,J as Xe,K as Ro,M as Y,O as V,P as K,Q as Z,S as ve,T as E,U as R,V as Bo,W as No,X as Oe,Y as de,Z as we,_ as X,$ as He,a0 as Re,a1 as Po,a2 as qe,a3 as To,a4 as Io,a5 as jo,a6 as Lo,a7 as Wo,a8 as zo,a9 as Go,aa as Yo,ab as Vo,ac as Ko,ad as Zo,ae as Xo,af as Ho,ag as qo,ah as Uo,ai as Jo,aj as Qo,ak as et,al as ot,am as tt,an as nt,ao as st,ap as at,aq as rt,ar as it,as as ut,at as lt,au as ct,av as dt,aw as pt,ax as Ue,ay as Je,az as Qe,aA as ht,aB as mt,aC as eo,aD as vt,aE as gt,aF as _t}from"./vendor.231c597e.js";const yt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const p of t.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function o(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function e(s){if(s.ep)return;s.ep=!0;const t=o(s);fetch(s.href,t)}};yt();const ft=4;let oo=100;const to=()=>oo=oo+ft,be={READY:1,WAIT:2},wt=a=>{if(!a)return;let n=be.READY;return{run:e=>{n===be.READY&&(n=be.WAIT,a(e),requestAnimationFrame(()=>{n=be.READY}))}}},xe={READY:1,MOVING:2},Ee=[],bt=wt(a=>{Ee.forEach(n=>{n&&n(a)})}),xt=a=>{bt.run(a)};document.body.addEventListener("mousemove",xt);const no=a=>{const n=Ee.length;return Ee.push(a),n},Be=a=>{Ee[a]=void 0},Ne=[];document.body.addEventListener("mouseup",a=>{for(;Ne.length>0;)Ne.pop()(a)});const Pe=a=>{Ne.push(a)},q={LEFT_TOP:1,RIGHT_TOP:2,LEFT_DOWN:3,RIGHT_DOWN:4},B={SPOT_SIZE:10,SPOT_Z_INDEX:3e4},Ce=(a,n)=>{const[o]=a.value.width.match(/[0-9]+/),[e]=a.value.height.match(/[0-9]+/);return{spots:[{state:q.LEFT_TOP,x:a.value.x-B.SPOT_SIZE/2,y:a.value.y-B.SPOT_SIZE/2,style:{width:`${B.SPOT_SIZE}px`,height:`${B.SPOT_SIZE}px`,zIndex:n.value+1,cursor:"nw-resize"}},{state:q.RIGHT_TOP,x:a.value.x-B.SPOT_SIZE/2+ +o,y:a.value.y-B.SPOT_SIZE/2,style:{width:`${B.SPOT_SIZE}px`,height:`${B.SPOT_SIZE}px`,zIndex:n.value+1,cursor:"ne-resize"}},{state:q.LEFT_DOWN,x:a.value.x-B.SPOT_SIZE/2,y:a.value.y-B.SPOT_SIZE/2+ +e,style:{width:`${B.SPOT_SIZE}px`,height:`${B.SPOT_SIZE}px`,zIndex:n.value+1,cursor:"sw-resize"}},{state:q.RIGHT_DOWN,x:a.value.x-B.SPOT_SIZE/2+ +o,y:a.value.y-B.SPOT_SIZE/2+ +e,style:{width:`${B.SPOT_SIZE}px`,height:`${B.SPOT_SIZE}px`,zIndex:n.value+1,cursor:"se-resize"}}]}},H={NORMAL:1,FULL_SCREEN:2,MINIMIZE:3},Et=(a=H.NORMAL)=>{const n=F();return n.value=so[a],{dialogStateStyle:n,updateDialogState:e=>{n.value=so[e]}}},so={[H.NORMAL]:{},[H.FULL_SCREEN]:{borderRadius:"0px"},[H.MINIMIZE]:{}};te("data-v-1312ac8c");const Ct={class:"header-operation-container"},Ft=["onMouseup"],St=["onMouseup"],At=["onMouseup"],Dt={style:{height:"calc(100% - 36px)"},id:"dialogContent"},Mt=fe(" content "),kt={class:"border-container"},$t=_("div",{class:"aline",style:{}},null,-1),Ot=["data-state"];ne();var Te=S({props:{name:{type:String,default:"default name"},dialogProp:{type:Object,default:()=>({})},containerProp:{type:Object,default:()=>({})},title:{type:String,default:""},index:{type:Number,default:1}},emits:["clickDialog","closeDialog","minimize","changeDisplay"],setup(a,{emit:n}){const o=a,e=F(),s=F(),t=F(),p=()=>({name:o.name,title:o.title,dialogProp:v.value}),{updateDialogState:l,dialogStateStyle:c}=Et(),i=k=>{const w=p();D("closeDialog",k,w),Ye(()=>{n("closeDialog",k,w)})},h=k=>{console.log("click minimize"),l(H.MINIMIZE)};let d;const u=k=>{console.log("click changeDisplay",k,o.containerProp),d?(v.value=d,d=void 0,l(H.NORMAL)):(d=v.value,v.value={x:0,y:0,height:o.containerProp.height,width:o.containerProp.width},l(H.FULL_SCREEN))},r=k=>{n("clickDialog",k,p())};o.name;const m=F(o.index+10);console.log(o.dialogProp);const v=F(j({x:0,y:0,width:"500px",height:"400px"},o.dialogProp)),A=F(Ce(v,m)),y=F(!1);De(v.value,(...k)=>{if(console.log("dialogProp cahnge",v.value),!y.value){y.value=!0;const w=Pe(()=>{y.value=!1,A.value=Ce(v,m),console.log("update windowBorder",A.value),Be(w)})}});const D=(k,w,C)=>{document.querySelector("#dialogContent").dispatchEvent(new CustomEvent("message",{detail:{name:o.name,type:k,event:w,context:C}}))};return P(()=>{var T;console.log("headerRef",e);let k,w,C=F(xe.READY);(T=e.value)==null||T.addEventListener("mousedown",N=>{let z=v.value.x,pe=v.value.y;console.log("down ev",N),k=N.x,w=N.y,C.value=xe.MOVING;const Se=no(I=>{C.value===xe.MOVING&&(v.value.x=I.x-k+z,v.value.y=I.y-w+pe)});Pe(I=>{console.log("up ev",I),v.value.x=I.x-k+z,v.value.y=I.y-w+pe,z=v.value.x,pe=v.value.y,C.value=xe.READY,A.value=Ce(v,m),Be(Se)})}),s.value.addEventListener("mousedown",N=>{m.value=to()});const O=t.value.querySelectorAll(".spot");console.log("spot list: ",O),O.forEach(N=>{N.addEventListener("mousedown",z=>{m.value=to(),console.log("start event:",z);const pe=z.clientX,Se=z.clientY,{x:I,y:ge}=v.value,[_e]=v.value.width.match(/[0-9]+/),[ye]=v.value.height.match(/[0-9]+/),Le=+N.getAttribute("data-state");console.log("state: ",Le);const wo=no(he=>{const ee=pe-he.clientX,oe=Se-he.clientY;switch(console.log("current event:",he,ee,oe),Le){case q.LEFT_TOP:v.value={x:I-ee,y:ge-oe,width:`${+_e+ee}px`,height:`${+ye+oe}px`};break;case q.RIGHT_TOP:v.value={x:I,y:ge-oe,width:`${+_e-ee}px`,height:`${+ye+oe}px`};break;case q.LEFT_DOWN:v.value={x:I-ee,y:ge,width:`${+_e+ee}px`,height:`${+ye-oe}px`};break;case q.RIGHT_DOWN:v.value={x:I,y:ge,width:`${+_e-ee}px`,height:`${+ye-oe}px`};break}});Pe(he=>{console.log("end event:",he),console.log("dialogProp:",v.value),A.value=Ce(v,m),Be(wo)})})})}),(k,w)=>(g(),f("div",{ref:t},[_("div",{ref:s,class:"dialog",style:Me(Object.assign(Ae(j({transform:`translate(${v.value.x}px, ${v.value.y}px)`},v.value),{zIndex:m.value}),x(c))),onClick:r},[_("div",{class:"header",ref:e},[_("div",Ct,[_("div",{onMouseup:ue(i,["stop"]),onMousedown:w[0]||(w[0]=ue(()=>{},["stop"])),class:"operation-button",style:{"background-color":"red"}},null,40,Ft),_("div",{onMouseup:ue(h,["stop"]),onMousedown:w[1]||(w[1]=ue(()=>{},["stop"])),class:"operation-button",style:{"background-color":"orange"}},null,40,St),_("div",{onMouseup:ue(u,["stop"]),onMousedown:w[2]||(w[2]=ue(()=>{},["stop"])),class:"operation-button",style:{"background-color":"#00ad00"}},null,40,At)]),_("span",null,[Ge(k.$slots,"title",{},()=>[fe(le(o.title),1)],{})])],512),_("div",Dt,[Ge(k.$slots,"default",{dialogProp:v.value,context:p()},()=>[Mt],!0)])],4),_("div",kt,[$t,(g(!0),f(L,null,se(A.value.spots,(C,O)=>(g(),f("div",{class:"spot","data-state":C.state,style:Me(j({transform:`translate(${C.x}px, ${C.y}px)`},C.style))},null,12,Ot))),256))])],512))}});Te.__scopeId="data-v-1312ac8c";const Rt={NORMAL:1,MINIMIZE:2,FULL_SCREEN:3},re=F(0),Bt=a=>{a.forEach((s,t)=>{a[t].key||(a[t].key=`___default_key_${re.value}`),re.value=re.value+1});const n=F(a);return{windowDialogList:n,addWindowDialog:(s,t={})=>{const p=n.value.length+1;n.value.push(Ae(j({key:`___default_key_${re.value}`,appName:s,state:Rt.NORMAL},t),{defaultDialogProp:j({x:10*p+re.value*10,y:50*(p%8+1)},t.defaultDialogProp)})),re.value=re.value+1},handleDialogFunc:(s,t)=>({clickDialog:(l,c)=>{var i;console.log("clickDialog",c),(i=s==null?void 0:s.onClickDialog)==null||i.call(s,l,c)},closeDialog:(l,c)=>{var i;n.value.splice(t,1),console.log("close, ",t,n.value),l.preventDefault(),(i=s==null?void 0:s.onCloseDialog)==null||i.call(s,l,c)},minimize:l=>{},changeDisplay:l=>{}})}};te("data-v-07a540e9");const Nt={class:"container"};ne();var ao=S({setup(a){return F(!0),F(null),F({age:null,password:null,reenteredPassword:null}),F(null),(n,o)=>(g(),f("div",Nt," home "))}});ao.__scopeId="data-v-07a540e9";const Pt={style:{padding:"40px"}};var Tt=S({props:{dialogProp:Object,context:Object,dialogItem:Object},setup(a){const n=a;return console.log("login",n),(o,e)=>{const s=$("n-statistic");return g(),f("div",Pt,[(g(!0),f(L,null,se(n.dialogProp,(t,p)=>(g(),W(s,{style:{width:"100px",display:"inline-block"},label:p},{default:M(()=>[fe(le(t),1)]),_:2},1032,["label"]))),256))])}}}),Ie=(a,n,o={})=>{const e={"=":0,">":0,"<":0,"&":0,"|":0,"+":1,"-":1,"*":2,"/":2,"^":3},s=j({"=":(u,r)=>u===r?1:0,">":(u,r)=>u>r?1:0,"<":(u,r)=>u<r?1:0,"&":(u,r)=>u&r?1:0,"|":(u,r)=>u|r?1:0,"+":(u,r)=>u+r,"-":(u,r)=>u-r,"*":(u,r)=>u*r,"/":(u,r)=>u/r,"^":(u,r)=>Math.pow(u,r)},o&&o.otherOperators),t=(u,r)=>u[r]!=="{"?l(u,r):c(u,r),p=(u,r)=>{if(u[r]!=="$")return[u[r],r];r+=1;const m=[],v=r;for(;!s[m.join("")]&&u[r]!==void 0;)m.push(u[r]),r+=1;if(u[r]===void 0)throw new Error(`Can't found operator sign by start ${v}`);return[m.join(""),r]},l=(u,r)=>{const m=[];for(;Number.isInteger(+u[r])||u[r]===".";)m.push(u[r]),++r;return[+m.join(""),r-1]},c=(u,r)=>{r+=1;const m=[];for(;u[r]!=="}";)m.push(u[r]),++r;return[n[m.join("")]!==void 0?n[m.join("")]:a[m.join("")],r]},i=(u,r,m)=>s[m](r,u);return{toReversePolishNotation:u=>{const r=[],m=[];for(let v=0,A=u.length;v<A;++v)if(e[u[v]]!==void 0||u[v]==="$"){let y;for([y,v]=p(u,v);m.length>0;){const D=m.pop();if(e[y]>e[D]||D==="("){m.push(D);break}else r.push(D)}m.push(y)}else if(u[v]==="(")m.push("(");else if(u[v]===")"){let y="";for(;(y=m.pop())!=="(";)r.push(y)}else if(u[v]!==" "){let y=0;[y,v]=t(u,v),r.push(y)}for(;m.length>0;)r.push(m.pop());return r},computeReversePolishNotation:u=>{if(!u.includes(void 0))if(u.length>1){const r=[];return u.forEach(m=>{s[m]?r.push(i(r.pop(),r.pop(),m)):r.push(m)}),r.pop()}else return u.pop()}}};const je=(a,{toReversePolishNotation:n,computeReversePolishNotation:o})=>{const e=l=>{const c={};return Object.keys(l).forEach(i=>{typeof l[i]=="string"||Array.isArray(l[i])?c[i]=l[i]:l[i].type&&l[i].value!==void 0||l[i].expression!==void 0?c[i]=s(l[i]):c[i]=e(l[i])}),c},s=l=>{const{type:c,value:i,expression:h}=l;let d;return c==="string"?d=`${t(h)||i}`:c==="number"?d=+(h&&t(h)||i):c==="array"||c==="boolean"&&(d=t(h)||i,d=d==="false"?!1:Boolean(d)),d},t=l=>o(n(l)),p=[];return a.forEach(l=>{if(l.show){const c=t(l.show.expression)||l.show.value;c&&c!=="false"&&(console.log("show"),p.push(e(l)))}else p.push(e(l))}),p};var It=S({setup(a){const n=[{component:"NInput",label:{expression:"{type}",type:"string"},layout:{span:{value:"3",type:"number"}},path:"remark"},{component:"NSelect",label:"\u9009\u62E9\u6B4C\u66F2",path:"song",layout:{span:{value:"3",type:"number"}},options:[{label:"Everybody's Got Something to Hide Except Me and My Monkey",value:"song0",disabled:!0},{label:"Drive My Car",value:"song1"},{label:"Norwegian Wood",value:"song2"},{label:"You Won't See",value:"song3",disabled:!0},{label:"Nowhere Man",value:"song4"},{label:"Think For Yourself",value:"song5"},{label:"The Word",value:"song6"}]},{component:"NSelect",label:"\u6027\u522B",path:"gender",layout:{span:{value:"1",type:"number"}},options:[{label:"\u5973",value:0},{label:"\u7537",value:1}]},{show:{type:"boolean",expression:"{gender} = 1"},component:"NInput",label:"\u85AA\u8D44\u591A\u5C11",path:"income"}],o={type:"\u64CD\u4F5C\u5907\u6CE8",remark:"\u5907\u6CE8test",song:"song1",gender:1},e={},s=ke(()=>(console.log(),je(n,Ie(o,e)))),t=F(e);return(p,l)=>{const c=$("n-form-item"),i=$("n-form");return g(),f("div",null,[b(i,{model:t.value,ref:formRef,inline:""},{default:M(()=>[(g(!0),f(L,null,se(x(s),h=>(g(),W(c,ce(me(h)),{default:M(()=>[(g(),W($e(h.component),ce(me(h)),null,16))]),_:2},1040))),256))]),_:1},8,["model"])])}}});const jt=_("h2",null,"this is DEMO page!",-1);var Lt=S({setup(a){const n=[{component:"NInput",label:{expression:"{type}",type:"string"},layout:{span:{value:"3",type:"number"}},path:"remark"},{component:"NSelect",label:"\u9009\u62E9\u6B4C\u66F2",path:"song",layout:{span:{value:"3",type:"number"}},options:[{label:"Everybody's Got Something to Hide Except Me and My Monkey",value:"song0",disabled:!0},{label:"Drive My Car",value:"song1"},{label:"Norwegian Wood",value:"song2"},{label:"You Won't See",value:"song3",disabled:!0},{label:"Nowhere Man",value:"song4"},{label:"Think For Yourself",value:"song5"},{label:"The Word",value:"song6"}]},{component:"NSelect",label:"\u6027\u522B",path:"gender",layout:{span:{value:"1",type:"number"}},options:[{label:"\u5973",value:0},{label:"\u7537",value:1}]},{show:{type:"boolean",expression:"{gender} = 1"},component:"NInput",label:"\u85AA\u8D44\u591A\u5C11",path:"income"}],o={type:"\u64CD\u4F5C\u5907\u6CE8",remark:"\u5907\u6CE8test",song:"song1",gender:1};return(e,s)=>(g(),f(L,null,[jt,b(It,ce(me({content:n,state:o})),null,16)],64))}});te("data-v-06d21309");const Wt={class:"com-browser"},zt={class:"operation"},Gt={class:"op-list"},Yt={class:"address"},Vt=["value","onKeyup"],Kt={class:"content"},Zt=["src"];ne();var ro=S({setup(a){const n=F(),o=F(null),e=F("https://v3.cn.vuejs.org/"),s=F(0),t=Ve([e.value]);function p(){const h=o.value.value;e.value=h,t.push(h),s.value=s.value+1}function l(){const h=e.value;e.value="",Ye(()=>{e.value=h})}function c(h){t.length>0&&(h===-1&&s.value>0||h===1&&t.length>s.value+1)&&(s.value+=h,console.log("vvv",s.value),e.value=t[s.value])}P(()=>{console.log(n),n.value.onload=h=>{console.log("browser onloading",h)}});const i=(...h)=>{console.log("log",...h);const[d]=h;d.path.forEach(u=>{console.dir(u)})};return(h,d)=>{const u=$("n-icon");return g(),f("div",Wt,[_("div",zt,[_("div",Gt,[b(u,{color:x(t).length>0&&s.value>0?"":"#d8d8d8",size:"24",onClick:d[0]||(d[0]=r=>c(-1))},{default:M(()=>[b(x(Ao))]),_:1},8,["color"]),b(u,{color:x(t).length>0&&x(t).length>s.value+1?"":"#d8d8d8",size:"24",onClick:d[1]||(d[1]=r=>c(1))},{default:M(()=>[b(x(Do))]),_:1},8,["color"]),b(u,{size:"24",onClick:l},{default:M(()=>[b(x(Mo))]),_:1})]),_("div",Yt,[_("input",{value:e.value,ref:o,onKeyup:So(p,["enter"])},null,40,Vt)])]),_("div",Kt,[_("iframe",{ref:n,onHaschange:i,onLoad:i,src:e.value},null,40,Zt)])])}}});ro.__scopeId="data-v-06d21309";const Xt=(a,n)=>{const o={};return a.forEach(e=>{o[e.path]=n[e.path]||""}),o},Ht=Ve({labelWidth:"100px",size:"small"});var qt=S({props:{rules:Object,content:Array,state:Object,customComponents:Object},emits:["change","update"],setup(a,{emit:n}){const o=a,e=F(Xt(o.content,o.state)),s=ke(()=>{console.log("handleContent, changeFormItemList");const t=Ie(o.state,e.value);return je(o.content,t)});return De(s,t=>{console.log("formContentUpdate",t),n("change",{formValue:e.value,formContent:t})}),De(e.value,t=>{console.log("formValueUpdate",t);const p=je(o.content,Ie(o.state,t));console.log("form content",p),n("update",{formValue:t,formContent:s.value})}),P(()=>{console.log("formContent",s.value)}),(t,p)=>{const l=$("n-form-item"),c=$("n-grid-item"),i=$("n-grid"),h=$("n-form");return g(),W(h,ae(x(Ht),{model:e.value,rules:o.rules,ref:formRef,inline:""}),{default:M(()=>[b(i,{cols:10},{default:M(()=>[(g(!0),f(L,null,se(x(s),d=>(g(),W(c,ae({span:"2"},d.layout,{style:{padding:"5px 10px"}}),{default:M(()=>[b(l,ce(me(d)),{default:M(()=>[(g(),W($e(d.component),ae(d,{value:e.value[d.path],"onUpdate:value":u=>e.value[d.path]=u}),{default:M(()=>[fe(le(d.inner),1)]),_:2},1040,["value","onUpdate:value"]))]),_:2},1040)]),_:2},1040))),256))]),_:1})]),_:1},16,["model","rules"])}}});const io={};function Ut(a,n){return g(),f("div",null," testComponent ")}io.render=Ut;const Jt=_("h2",null,"this is yubiFormDemo page!",-1);var Qt=S({setup(a){const n={test:io},o=[{component:"NInput",label:{expression:"{type}",type:"string"},layout:{span:"2 400:3 600:3 800:2"},path:"remark"},{component:"NSelect",label:"\u9009\u62E9\u6B4C\u66F2",path:"song",layout:{span:"5 400:5 600:3 800:2"},options:[{label:"Everybody's Got Something to Hide Except Me and My Monkey",value:"song0",disabled:!0},{label:"Drive My Car",value:"song1"},{label:"Norwegian Wood",value:"song2"},{label:"You Won't See",value:"song3",disabled:!0},{label:"Nowhere Man",value:"song4"},{label:"Think For Yourself",value:"song5"},{label:"The Word",value:"song6"}]},{component:"NSelect",label:"\u6027\u522B",path:"gender",layout:{span:"10 400:5 600:2 800:2"},options:[{label:"\u5973",value:0},{label:"\u7537",value:1}]},{show:{type:"boolean",expression:"{gender} = 1"},layout:{span:" 10 400:5 600:2 800:2"},component:"NInput",label:"\u85AA\u8D44\u591A\u5C11",path:"income"}],e={type:"\u64CD\u4F5C\u5907\u6CE8",remark:"\u5907\u6CE8test",song:"song1",gender:1};return(s,t)=>(g(),f(L,null,[Jt,b(qt,ce(me({customComponents:n,content:o,state:e})),null,16)],64))}}),uo=S({props:{dialogProp:{type:Object},context:{type:Object},dialogItem:Object,containerProp:Object},setup(a){const n=a,o=F(!0);function e(c){return()=>Ke(Ze,null,{default:()=>Ke(c)})}const s=[{label:"\u4E3B\u9875",key:"home",icon:e(ko),component:ao},{label:"Login",key:"login",icon:e($o),component:G(Tt)},{label:"demo",key:"demo",icon:e(Oo),component:Lt},{label:"browser",key:"browser",icon:e(Xe),component:ro},{label:"schema",key:"schema",icon:e(Xe),children:[{label:"formDemo",key:"formDemo",component:Qt}]}],p=F((()=>{var i;const c=(i=n.dialogItem)==null?void 0:i.appName;if(!!c){for(const h of s)if(h.key===c)return h.component}})()),l=(c,i)=>{console.log(c,i),p.value=i.component,console.log("update",p.value)};return(c,i)=>{const h=$("n-layout-content"),d=$("n-menu"),u=$("n-layout-sider"),r=$("n-layout"),m=$("n-space");return g(),W(m,{vertical:"",size:"large"},{default:M(()=>[b(r,{"has-sider":"",style:Me({height:`calc(${n.dialogProp.height} - 36px)`})},{default:M(()=>[b(h,{style:{overflow:"hidden"}},{default:M(()=>[p.value?(g(),W(x(p),ce(ae({key:0},n)),null,16)):Ro("",!0)]),_:1}),b(u,{bordered:"","show-trigger":"","collapse-mode":"width",collapsed:o.value,"collapsed-width":64,width:180,"native-scrollbar":!1},{default:M(()=>[b(d,{"collapsed-width":64,"collapsed-icon-size":22,options:s,"on-update:value":l})]),_:1},8,["collapsed"])]),_:1},8,["style"])]),_:1})}}});uo.__scopeId="data-v-70e54f5e";const en=_("canvas",{id:"canvas"},null,-1),on=[en];var tn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),n.destroy()});const n=new V({systems:[new K({canvas:document.querySelector("#canvas"),width:1e3,height:1e3,backgroundColor:10066329}),new Z,new ve({})]}),o=new E("image",{size:{width:30,height:40},origin:{x:0,y:0},position:{x:500,y:500},anchor:{x:0,y:0}});o.addComponent(new R({resource:"bearImg"})),n.scene.addChild(o);const e=o.addComponent(new Bo({hitArea:{type:No.Rect,style:{x:0,y:0,width:30,height:40}}}));let s;e.on("touchmove",t=>{s=()=>{const p=t.gameObject.transform;p.position=t.data.position}}),n.ticker.add(t=>{s&&s(),s=void 0})}),(n,o)=>(g(),f("div",null,on))}});const nn=_("canvas",{id:"shoot"},null,-1),sn=[nn];var an=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#shoot"),o=new V({systems:[new K({canvas:n,width:1e3,height:1e3,backgroundColor:1087931}),new Z,new ve({}),new Oe,new de]});o.addSystem(new we({show:!0,style:{x:90,y:0,width:8,height:5}}));const e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.scene.addChild(e),n.addEventListener("mousedown",i=>{i.stopPropagation(),console.log("mousedown",i);const{offsetX:h,offsetY:d}=i;p(l(h,d,e.transform.position.x,e.transform.position.y),e.transform.position)});const s=2,t=[];function p(i,h){const d=new E("gameObject1",{size:{width:25,height:12},origin:{x:.5,y:.5},position:h,rotation:i});d.addComponent(new R({resource:"bullet"})),t.push(d),o.scene.addChild(d)}n.addEventListener("mousemove",i=>{i.stopPropagation();const{offsetX:h,offsetY:d}=i;e.transform.rotation=l(e.transform.position.x,e.transform.position.y,h,d)}),n.addEventListener("click",i=>{i.stopPropagation()});const l=(i,h,d,u)=>{const r=h-u,m=i-d;return Math.atan2(r,m)};o.ticker.add(i=>{c.components[1].text=`\u5F53\u524D\u5B50\u5F39\u6570\u91CF\u4E3A\uFF1A${t.length}`;for(let h=t.length-1;h>=0;h--){const d=t[h].transform.position;d.x+=Math.cos(t[h].transform.rotation)*s,d.y+=Math.sin(t[h].transform.rotation)*s,d.x>1100||d.x<-100?t.splice(h,1).forEach(r=>{o.scene.removeGameObject(r)}):(d.y>1100||d.y<-100)&&t.splice(h,1).forEach(r=>{o.scene.removeGameObject(r)})}});const c=new E("text",{position:{x:200,y:200},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});c.addComponent(new X({text:"\u6B22\u8FCE\u4F7F\u7528EVA\u4E92\u52A8\u6E38\u620F\u5F00\u53D1\u4F53\u7CFB\uFF01",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#b35d9e","#84c35f","#ebe44f"],fillGradientType:1,fillGradientStops:[.1,.4],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:400,breakWords:!0}})),o.scene.addChild(c)}),(n,o)=>(g(),f("div",null,sn))}});const rn=_("canvas",{id:"autoShoot"},null,-1),un=[rn];var ln=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#autoShoot"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new ve({}),new Oe,new de]});o.addSystem(new we({show:!0,style:{x:90,y:0,width:8,height:5}}));const e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.scene.addChild(e);const s=2,t=[],p=1e3;let l=Date.now();function c(u,r){const m=new E("gameObject1",{size:{width:25,height:12},origin:{x:.5,y:.5},position:r,rotation:u});m.addComponent(new R({resource:"bullet"})),t.push(m),o.scene.addChild(m)}let i={offsetX:0,offsetY:0};n.addEventListener("mousemove",u=>{u.stopPropagation();const{offsetX:r,offsetY:m}=u;i={offsetX:r,offsetY:m},e.transform.rotation=h(e.transform.position.x,e.transform.position.y,r,m)}),n.addEventListener("click",u=>{u.stopPropagation()});const h=(u,r,m,v)=>{const A=r-v,y=u-m;return Math.atan2(A,y)};o.ticker.add(u=>{d.components[1].text=`\u5F53\u524D\u5B50\u5F39\u6570\u91CF\u4E3A\uFF1A${t.length}`;for(let r=t.length-1;r>=0;r--){const m=t[r].transform.position;m.x+=Math.cos(t[r].transform.rotation)*s,m.y+=Math.sin(t[r].transform.rotation)*s,m.x>1100||m.x<-100?t.splice(r,1).forEach(A=>{o.scene.removeGameObject(A)}):(m.y>1100||m.y<-100)&&t.splice(r,1).forEach(A=>{o.scene.removeGameObject(A)})}Date.now()-l>p&&(c(h(i.offsetX,i.offsetY,e.transform.position.x,e.transform.position.y),e.transform.position),l=Date.now())});const d=new E("text",{position:{x:200,y:200},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});d.addComponent(new X({text:"\u6B22\u8FCE\u4F7F\u7528EVA\u4E92\u52A8\u6E38\u620F\u5F00\u53D1\u4F53\u7CFB\uFF01",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#b35d9e","#84c35f","#ebe44f"],fillGradientType:1,fillGradientStops:[.1,.4],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:400,breakWords:!0}})),o.scene.addChild(d)}),(n,o)=>(g(),f("div",null,un))}});const lo=(a,n,o,e)=>{const s=Math.abs(a-o),t=Math.abs(n-e);return Math.sqrt(s*s+t*t)},cn=(a,n,o,e)=>{const s=n-e,t=a-o;return Math.atan2(s,t)},dn=3.141592653589793+3.141592653589793,co=()=>Math.random()*dn-3.141592653589793,po=({x:a,y:n},o,e)=>({x:Math.cos(o)*e+a,y:Math.sin(o)*e+n}),pn=(a,n)=>{const o=!(a.x+a.width<=n.x||n.x+n.width<=a.x),e=!(a.height+a.y<=n.y||n.y+n.height<=a.y);return o&&e},U=(a,n,o={})=>{const e=j({obj:a,isMove:!1,moveSpeed:200,HP:100,skills:[],positions:{x:0,y:0},width:10,height:10,moveRotation:0,resource:"",lastMoveTime:Date.now()},o),s=(l,c)=>{e.isMove=!0,e.lastMoveTime=Date.now(),e.positions={x:l,y:c},e.moveRotation=cn(l,c,e.obj.transform.position.x,e.obj.transform.position.y)},t=()=>{e.lastMoveTime=Date.now(),e.isMove=!0},p=()=>{e.isMove=!1};return n.ticker.add(l=>{if(e.isMove){const c=e.moveSpeed*(Date.now()-e.lastMoveTime)/1e3,i=e.obj.transform.position;i.x+=Math.cos(e.moveRotation)*c,i.y+=Math.sin(e.moveRotation)*c,e.lastMoveTime=Date.now(),lo(i.x+Math.cos(e.moveRotation)*c,i.y+Math.sin(e.moveRotation)*c,e.positions.x,e.positions.y)>lo(i.x,i.y,e.positions.x,e.positions.y)&&(e.isMove=!1)}}),{monster:e,stopMove:p,moveToPosition:s,moveByRotation:t}},hn=_("canvas",{id:"move"},null,-1),mn=[hn];var vn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#move"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:10066329}),new Z,new ve({})]}),e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.scene.addChild(e);const s=U(e,o);n.addEventListener("click",t=>{t.stopPropagation()}),n.addEventListener("mousedown",t=>{s.moveToPosition(t.offsetX,t.offsetY),t.stopPropagation()})}),(n,o)=>(g(),f("div",null,mn))}});const gn={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},J={right:0,up:-1.5707963267948966,left:3.141592653589793,down:1.5707963267948966,"right+up":-.7853981633974483,"left+up":-2.356194490192345,"right+down":.7853981633974483,"left+down":2.356194490192345},ie=({up:a,down:n,left:o,right:e}=gn)=>{const s=()=>{if(t[o]&&t[a])return J["left+up"];if(t[o]&&t[n])return J["left+down"];if(t[e]&&t[a])return J["right+up"];if(t[e]&&t[n])return J["right+down"];if(t[o])return J.left;if(t[e])return J.right;if(t[a])return J.up;if(t[n])return J.down},t={},p=i=>{t[i.key]=!0},l=i=>{t[i.key]=!1};return document.addEventListener("keydown",p),document.addEventListener("keyup",l),{getKeyRotation:s,destory:()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",l)}}},_n=_("canvas",{id:"move"},null,-1),yn=[_n];var fn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#move"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new ve({})]}),e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.scene.addChild(e);const s=U(e,o),t=ie();o.ticker.add(p=>{(s.monster.moveRotation=t.getKeyRotation())!==void 0?s.moveByRotation():s.stopMove()})}),(n,o)=>(g(),f("div",null,yn))}});const wn=_("canvas",{id:"move"},null,-1),bn=[wn];var xn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#move"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new de]}),e={fontSize:16,fontStyle:"italic",fontWeight:"bold"},s=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}}),t=new E("text",{position:{x:0,y:30},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});t.addComponent(new X({text:"P1",style:e}));const p=new E("text",{position:{x:0,y:30},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});p.addComponent(new X({text:"P2",style:e}));const l=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:300,y:500},anchor:{x:0,y:0}});s.addComponent(new R({resource:"bearImg"})),l.addComponent(new R({resource:"bearImg"})),s.addChild(t),l.addChild(p),o.scene.addChild(s),o.scene.addChild(l);const c=U(s,o),i=U(l,o),h=ie(),d=ie({up:"w",down:"s",left:"a",right:"d"});o.ticker.add(u=>{(c.monster.moveRotation=h.getKeyRotation())!==void 0?c.moveByRotation():c.stopMove(),(i.monster.moveRotation=d.getKeyRotation())!==void 0?i.moveByRotation():i.stopMove()})}),(n,o)=>(g(),f("div",null,bn))}});const En=_("canvas",{id:"autoShoot",willReadFrequently:"true"},null,-1),Cn=[En];var Fn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()}),document.querySelector("#dialogContent").addEventListener("message",A=>{console.log("dialogContent addEventListener message",A);const y=A.detail;y.name===ho.randomShootVue.name&&y.type==="closeDialog"&&console.log("\u5173\u95ED")}),console.log("onMounted");const n=document.querySelector("#autoShoot"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new de]}),e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.addSystem(new we({show:!0,style:{x:90,y:0,width:8,height:5}})),o.scene.addChild(e);const s=2,t=[],p=50;let l=Date.now();function c(A,y){const D=new E("gameObject1",{size:{width:25,height:12},origin:{x:.5,y:.5},position:y,rotation:A});D.addComponent(new R({resource:"bullet"})),t.push(D),o.scene.addChild(D)}o.ticker.add(A=>{i.components[1].text=`\u5F53\u524D\u5B50\u5F39\u6570\u91CF\u4E3A\uFF1A${t.length}`;for(let y=t.length-1;y>=0;y--){const D=t[y].transform.position;D.x+=Math.cos(t[y].transform.rotation)*s,D.y+=Math.sin(t[y].transform.rotation)*s,D.x>1100||D.x<-100?t.splice(y,1).forEach(w=>{o.scene.removeGameObject(w),w.destroy()}):(D.y>1100||D.y<-100)&&t.splice(y,1).forEach(w=>{o.scene.removeGameObject(w),w.destroy()})}if(Date.now()-l>p){const y=co();c(y,po(e.transform.position,y,40)),l=Date.now()}});const i=new E("text",{position:{x:200,y:50},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});i.addComponent(new X({text:"\u6B22\u8FCE\u4F7F\u7528EVA\u4E92\u52A8\u6E38\u620F\u5F00\u53D1\u4F53\u7CFB\uFF01",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#b35d9e","#84c35f","#ebe44f"],fillGradientType:1,fillGradientStops:[.1,.4],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:400,breakWords:!0}}));const h=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:300,y:500},anchor:{x:0,y:0}});h.addComponent(new R({resource:"bearImg"}));const d=U(h,o),u=ie(),r=new E("text",{position:{x:0,y:30},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});r.addComponent(new X({text:"\u745F\u745F\u53D1\u6296\u7684\u4F60",style:{fontSize:16,fontStyle:"italic",fontWeight:"bold",padding:5}})),h.addChild(r),o.scene.addChild(i),o.scene.addChild(h);const m=U(e,o),v=ie({up:"w",down:"s",left:"a",right:"d"});o.ticker.add(A=>{(m.monster.moveRotation=v.getKeyRotation())!==void 0?m.moveByRotation():m.stopMove(),(d.monster.moveRotation=u.getKeyRotation())!==void 0?d.moveByRotation():d.stopMove()})}),(n,o)=>(g(),f("div",null,Cn))}});const Sn=_("canvas",{id:"hitDemo"},null,-1),An=[Sn];var Dn=S({setup(a){return P(()=>{Y(()=>{console.log("\u9500\u6BC1"),o.destroy()});const n=document.querySelector("#hitDemo"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new Oe,new de]}),e=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:500,y:500},anchor:{x:0,y:0}});e.addComponent(new R({resource:"bearImg"})),o.addSystem(new we({show:!0,style:{x:90,y:0,width:8,height:5}})),o.scene.addChild(e);const s=2,t=[],p=1;let l=Date.now();function c(w,C){const O=new E("gameObject1",{size:{width:25,height:12},origin:{x:.5,y:.5},position:C,rotation:w});O.addComponent(new R({resource:"bullet"})),t.push(O),o.scene.addChild(O)}n.addEventListener("mousemove",w=>{w.stopPropagation()}),n.addEventListener("click",w=>{w.stopPropagation()});const i=[],h=10,d=10;let u=0;o.ticker.add(w=>{r.components[1].text=`\u5F53\u524D\u5B50\u5F39\u6570\u91CF\u4E3A\uFF1A${t.length}, \u88AB\u51FB\u4E2D\u6B21\u6570\u4E3A\uFF1A${u}`;for(let C=t.length-1;C>=0;C--){const O=t[C].transform.position;O.x+=Math.cos(t[C].transform.rotation)*s,O.y+=Math.sin(t[C].transform.rotation)*s,O.x>1100||O.x<-100?t.splice(C,1).forEach(N=>{o.scene.removeGameObject(N),N.destroy()}):(O.y>1100||O.y<-100)&&t.splice(C,1).forEach(N=>{o.scene.removeGameObject(N),N.destroy()}),i.forEach(T=>{pn({x:O.x-h*.5,y:O.y-d*.5,width:h,height:d},{x:T.obj.transform.position.x-T.width*.5,y:T.obj.transform.position.y-T.height*.5,width:T.width,height:T.height})&&(console.log("\u88AB\u51FB\u4E2D\u4E86\u5594"),++u,t.splice(C,1).forEach(z=>{o.scene.removeGameObject(z),z.destroy()}))})}if(Date.now()-l>p){const C=co();c(C,po(e.transform.position,C,40)),l=Date.now()}});const r=new E("text",{position:{x:200,y:50},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});r.addComponent(new X({text:"\u6B22\u8FCE\u4F7F\u7528EVA\u4E92\u52A8\u6E38\u620F\u5F00\u53D1\u4F53\u7CFB\uFF01",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#b35d9e","#84c35f","#ebe44f"],fillGradientType:1,fillGradientStops:[.1,.4],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:400,breakWords:!0}}));const m=new E("image",{size:{width:30,height:40},origin:{x:.5,y:.5},position:{x:300,y:500},anchor:{x:0,y:0}});m.addComponent(new R({resource:"bearImg"}));const v=U(m,o);i.push(v.monster);const A=ie(),y=new E("text",{position:{x:0,y:30},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});y.addComponent(new X({text:"\u745F\u745F\u53D1\u6296\u7684\u4F60",style:{fontSize:16,fontStyle:"italic",fontWeight:"bold",padding:5}})),m.addChild(y),o.scene.addChild(r),o.scene.addChild(m);const D=U(e,o),k=ie({up:"w",down:"s",left:"a",right:"d"});o.ticker.add(w=>{(D.monster.moveRotation=k.getKeyRotation())!==void 0?D.moveByRotation():D.stopMove(),(v.monster.moveRotation=A.getKeyRotation())!==void 0?v.moveByRotation():v.stopMove()})}),(n,o)=>(g(),f("div",null,An))}});const ho={bulletTestVue:{component:G(tn),title:"\u8FFD\u968F\u9F20\u6807\u79FB\u52A8\u7684demo",name:"\u8DDF\u968F\u9F20\u6807Demo"},shootDemoVue:{component:G(an),title:"\u70B9\u51FB\u5C04\u51FBdemo\uFF0C\u8BF7\u5355\u51FB\uFF0C\u4F1A\u5F80\u9F20\u6807\u65B9\u5411\u53D1\u5C04\u4E00\u4E2A\u841D\u535C",name:"\u70B9\u51FB\u5C04\u51FBDemo"},autoShootDemoVue:{component:G(ln),title:"\u81EA\u52A8\u5C04\u51FBdemo\uFF0C\u6BCF\u9694\u4E00\u79D2\uFF0C\u4F1A\u5F80\u9F20\u6807\u65B9\u5411\u53D1\u5C04\u4E00\u4E2A\u841D\u535C",name:"\u81EA\u52A8\u5C04\u51FBDemo"},moveDemoVue:{component:G(vn),title:"\u70B9\u51FB\u79FB\u52A8demo\uFF0C\u8BF7\u70B9\u51FB\u4EFB\u610F\u4F4D\u7F6E\uFF0C\u5C0F\u718A\u4F1A\u5F80\u8BE5\u5904\u79FB\u52A8",name:"\u70B9\u51FB\u79FB\u52A8Demo"},keyMoveDemo:{component:G(fn),title:"\u901A\u8FC7\u952E\u76D8\u7684\u4E0A\u4E0B\u5DE6\u53F3\u65B9\u5411\u952E\u6765\u63A7\u5236\u5C0F\u718A\u7684\u79FB\u52A8",name:"\u952E\u76D8\u79FB\u52A8demo"},p2Demo:{component:G(xn),title:"\u901A\u8FC7\u952E\u76D8\u7684\u4E0A\u4E0B\u5DE6\u53F3\u65B9\u5411\u952E\u6765\u63A7\u5236\u5C0F\u718AP1\u7684\u79FB\u52A8\uFF0CP2\u662Fwasd",name:"\u53CC\u4EBA\u79FB\u52A8demo"},randomShootVue:{component:G(Fn),title:"\u901A\u8FC7\u952E\u76D8\u7684\u4E0A\u4E0B\u5DE6\u53F3\u65B9\u5411\u952E\u6765\u63A7\u5236\u5C0F\u718A\u7684\u79FB\u52A8\uFF0C\u4F1A\u5F80\u968F\u673A\u65B9\u5411\u5C04\u51FB",name:"\u968F\u673A\u5C04\u51FBdemo"},hitDemoVue:{component:G(Dn),title:"\u901A\u8FC7\u952E\u76D8\u7684\u4E0A\u4E0B\u5DE6\u53F3\u65B9\u5411\u952E\u6765\u63A7\u5236\u745F\u745F\u53D1\u6296\u7684\u5C0F\u718A\u6765\u8EB2\u907F\u841D\u535C\u7684\u653B\u51FB",name:"\u78B0\u649Edemo"}},Fe=()=>"/mac-dialog-demo/dist/";te("data-v-2baedd37");const Mn={class:"icon-wrap"};ne();var mo=S({props:{containerProp:{type:Object,default:()=>{}}},emits:["addApplication"],setup(a,{emit:n}){He.addResource([{name:"bearImg",type:Re.IMAGE,src:{image:{type:"png",url:Fe()+"/bunny.png"}}},{name:"bullet",type:Re.IMAGE,src:{image:{type:"png",url:Fe()+"/carrot.png"}}}]);const o=e=>{n("addApplication",e.conponent,j({isEasy:!0,state:H.NORMAL,defaultDialogProp:{height:"800px",width:"1000px"}},e))};return(e,s)=>{const t=$("n-icon"),p=$("n-button");return g(),f("div",null,[(g(!0),f(L,null,se(x(ho),l=>(g(),f("div",Mn,[b(p,{color:"#8a2be2",circle:"",onClick:c=>o(l)},{icon:M(()=>[b(t,null,{default:M(()=>[b(x(Po))]),_:1})]),_:2},1032,["onClick"]),_("div",null,le(l.name),1)]))),256))])}}});mo.__scopeId="data-v-2baedd37";const vo=(a,n,o,e)=>{const s=Math.abs(a-o),t=Math.abs(n-e);return Math.sqrt(s*s+t*t)},kn=(a,n,o,e)=>{const s=n-e,t=a-o;return Math.atan2(s,t)},$n=(a,n,o={})=>{const e=j({obj:a,isMove:!1,moveSpeed:200,HP:100,skills:[],positions:{x:0,y:0},width:10,height:10,moveRotation:0,resource:"",lastMoveTime:Date.now()},o),s=(l,c)=>{e.isMove=!0,e.lastMoveTime=Date.now(),e.positions={x:l,y:c},e.moveRotation=kn(l,c,e.obj.transform.position.x,e.obj.transform.position.y)},t=()=>{e.lastMoveTime=Date.now(),e.isMove=!0},p=()=>{e.isMove=!1};return n.ticker.add(l=>{if(e.isMove){const c=e.moveSpeed*(Date.now()-e.lastMoveTime)/1e3,i=e.obj.transform.position;i.x+=Math.cos(e.moveRotation)*c,i.y+=Math.sin(e.moveRotation)*c,e.lastMoveTime=Date.now(),vo(i.x+Math.cos(e.moveRotation)*c,i.y+Math.sin(e.moveRotation)*c,e.positions.x,e.positions.y)>vo(i.x,i.y,e.positions.x,e.positions.y)&&(e.isMove=!1)}}),{monster:e,stopMove:p,moveToPosition:s,moveByRotation:t}},On={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},Q={right:0,up:-1.5707963267948966,left:3.141592653589793,down:1.5707963267948966,"right+up":-.7853981633974483,"left+up":-2.356194490192345,"right+down":.7853981633974483,"left+down":2.356194490192345},Rn=({up:a,down:n,left:o,right:e}=On)=>{const s=()=>{if(t[o]&&t[a])return Q["left+up"];if(t[o]&&t[n])return Q["left+down"];if(t[e]&&t[a])return Q["right+up"];if(t[e]&&t[n])return Q["right+down"];if(t[o])return Q.left;if(t[e])return Q.right;if(t[a])return Q.up;if(t[n])return Q.down},t={},p=i=>{t[i.key]=!0},l=i=>{t[i.key]=!1};return document.addEventListener("keydown",p),document.addEventListener("keyup",l),{getKeyRotation:s,destory:()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",l)}}},Bn=_("canvas",{id:"catMove"},null,-1),Nn=[Bn];var Pn=S({setup(a){return P(()=>{Y(()=>{o.destroy()});const n=document.querySelector("#catMove"),o=new V({systems:[new K({canvas:n,width:1e3,height:800,backgroundColor:1087931}),new Z,new de]}),e=new E("cat",{size:{width:40,height:40},origin:{x:.5,y:.5},position:{x:500,y:400},anchor:{x:0,y:0}});e.addComponent(new R({resource:"cat"}));const s=new E("catName",{position:{x:0,y:30},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});s.addComponent(new X({text:"\u53D1\u5C04\u9C9C\u82B1\u7684\u732B\u54AA",style:{fontSize:16,fontStyle:"italic",fontWeight:"bold",padding:5}})),e.addChild(s),o.scene.addChild(e);const t=$n(e,o,{width:40,height:40}),p=Rn();o.ticker.add(l=>{(t.monster.moveRotation=p.getKeyRotation())!==void 0?t.moveByRotation():t.stopMove()})}),(n,o)=>(g(),f("div",null,Nn))}});const Tn={catVue:{component:G(Pn),title:"\u53EF\u4E0A\u4E0B\u5DE6\u53F3\u79FB\u52A8\u7684\u732B\u54AA\uFF0C\u4F1A\u81EA\u52A8\u968F\u673A\u5C04\u51FB",name:"Cat",imageSrc:`${Fe()}/emoji/cat.png`}};te("data-v-c3fc7b26");const In={class:"icon-wrap"};ne();var go=S({props:{containerProp:{type:Object,default:()=>{}}},emits:["addApplication"],setup(a,{emit:n}){(s=>{He.addResource(s.map(t=>({name:t,type:Re.IMAGE,src:{image:{type:"png",url:`${Fe()}/emoji/${t}.png`}}})))})(["cat","flower1","flower2","flower3","flower4","flower5","flower6"]);const e=s=>{n("addApplication",s.conponent,j({isEasy:!0,state:H.NORMAL,defaultDialogProp:{height:"800px",width:"1000px"}},s))};return(s,t)=>{const p=$("n-image"),l=$("n-button");return g(),f("div",null,[(g(!0),f(L,null,se(x(Tn),c=>(g(),f("div",In,[b(l,{color:"#8a2be2",circle:"",onClick:i=>e(c)},{icon:M(()=>[b(p,{width:"100",src:c.imageSrc},null,8,["src"])]),_:2},1032,["onClick"]),_("div",null,le(c.name),1)]))),256))])}}});go.__scopeId="data-v-c3fc7b26";te("data-v-13a252f3");const jn={class:""},Ln={class:"window-dialog-operator"},Wn={class:"operator-button-group"},zn={class:"window-dialog-menu"};ne();var _o=S({props:{windowDialogList:{type:Array,default:[]},baseComponents:{type:Object,default:void 0},dialogProp:{type:Object,default:()=>{}},homePageName:{type:String,default:"login"}},setup(a){const n=a,o=F();P(()=>{console.log("windowDialogContainerRef",o)});const e=ke(()=>{const l=n.dialogProp;if(l)return{height:l.height,width:l.width};if(o.value)return console.log("window dialog container",o.value),{height:o.value.style.height,width:o.value.style.width}}),{windowDialogList:s,handleDialogFunc:t,addWindowDialog:p}=Bt(n.windowDialogList);return(l,c)=>{const i=$("n-icon"),h=$("n-button");return g(),f(L,null,[_("div",jn,[(g(!0),f(L,null,se(x(s),(d,u)=>(g(),f(L,{key:d.key},[d.isEasy?(g(),W(Te,ae({key:1,"dialog-prop":d.defaultDialogProp,"container-Prop":x(e),name:d.name,index:u,title:d.title},qe(x(t)(d.func,u))),{default:M(()=>[(g(),W($e(d.component)))]),_:2},1040,["dialog-prop","container-Prop","name","index","title"])):(g(),W(Te,ae({key:0,"dialog-prop":d.defaultDialogProp,"container-Prop":x(e),name:d.name,index:u,title:d.title},qe(x(t)(d.func,u))),{default:M(r=>[b(uo,ae({is:d.component,"container-Prop":x(e),dialogItem:d},r),null,16,["is","container-Prop","dialogItem"])]),_:2},1040,["dialog-prop","container-Prop","name","index","title"]))],64))),128))]),_("div",{class:"window-dialog-container",style:{width:"100vw",height:"100vh"},ref:o},[_("div",Ln,[_("div",null,"\u7A97\u53E3\u6570\u91CF\uFF1A"+le(x(s).length),1),_("div",Wn,[b(h,{onClick:c[0]||(c[0]=()=>x(p)(n.homePageName)),circle:"",size:"tiny"},{icon:M(()=>[b(i,null,{default:M(()=>[b(x(To))]),_:1})]),_:1})])]),_("div",zn,[b(mo,{containerProp:x(e),onAddApplication:x(p)},null,8,["containerProp","onAddApplication"]),_("div",null,[b(go,{containerProp:x(e),onAddApplication:x(p)},null,8,["containerProp","onAddApplication"])])])],512)],64)}}});_o.__scopeId="data-v-13a252f3";te("data-v-79974b10");const Gn={class:"container"};ne();var yo=S({setup(a){const n=[];return(o,e)=>(g(),f("div",Gn,[b(_o,{windowDialogList:n})]))}});yo.__scopeId="data-v-79974b10";var Yn=S({setup(a){return(n,o)=>(g(),f("div",null,[b(yo)]))}});var Vn=Io({components:[jo,Lo,Wo,zo,Ze,Go,Yo,Vo,Ko,Zo,Xo,Ho,qo,Uo,Jo,Qo,et,ot,tt,nt,st,at,rt,it,ut,lt,ct,dt,pt,Ue,Je,Qe,ht,mt,eo,vt,gt,Ue,Je,Qe,eo]});const fo=_t(Yn);fo.use(Vn);fo.mount("#app");
